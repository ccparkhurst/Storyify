<h2>SIGN UP</h2>

<form ng-submit="$ctrl.submitForm()">

<fieldset ng-disabled="$ctrl.isSubmitting">

    <form name="form" ng-submit='$ctrl.login(form)' novalidate>

        <div class="form-group" ng-class="{ 'has-success': form.firstName.$valid && $ctrl.submitted,
                                              'has-error': form.firstName.$invalid && $ctrl.submitted }">


        <fieldset class="form-group">

            <label for="FirstName"> First Name:</label>

            <input type="text"
                   id="firstName"
                   placeholder="first"
                   ng-model="$ctrl.user.firstName"
                   name="firstName"
                   class="form-control" required />

            <p class="help-block" ng-show="form.firstName.$error.required && $ctrl.submitted">
                Required
            </p>


        </fieldset>

        </div>

            <fieldset class="form-group">

                <div class="form-group" ng-class="{ 'has-success': form.lastName.$valid && $ctrl.submitted,
                                              'has-error': form.lastName.$invalid && $ctrl.submitted }">


                <label for="LastName">Last Name</label>

            <input type="text"
                   id="lastName"
                   placeholder="last"
                   ng-model="$ctrl.user.lastName"
                   name="lastName"
                   class="form-control" required />

                    <p class="help-block" ng-show="form.lastName.$error.required && $ctrl.submitted">
                        Required
                    </p>

            </fieldset>
    </div>

        <fieldset class="form-group">

            <label for="email"> Email</label>
            <input type="email"
                   id="email"
                   placeholder="email"
                   ng-model="$ctrl.user.email"
                   name="email"
                   class="form-control" required />

            <p class="help-block" ng-show="form.email.$error.required && $ctrl.submitted">
                What's your email address?
            </p>
            <p class="help-block" ng-show="form.email.$error.mongoose">
                {{ $ctrl.errors.email }}
            </p>

        </fieldset>


        <fieldset class="form-group">

            <div class="form-group" ng-class="{ 'has-success': form.password.$valid && $ctrl.submitted,
                                              'has-error': form.password.$invalid && $ctrl.submitted }">

            <label for="password">Password</label>

            <input type="password"
                   id="password"
                   placeholder="password"
                   ng-model="$ctrl.user.password"
                   ng-minLength="6"
                   name="password"
                   class="form-control"
                   required
                   mongoose-error/>

                <p class="help-block"
                   ng-show="(form.password.$error.minlength || form.password.$error.required) && $ctrl.submitted">
                    Password must be at least 3 characters.
                </p>

                <p class="help-block" ng-show="form.password.$error.mongoose">
                    {{ $ctrl.errors.password }}
                </p>

                <p class="help-block" ng-show="form.password.$error.required && $ctrl.submitted">
                    Required
                </p>

        </fieldset>

    </div>

        <button type="submit"
                class="btn btn-primary">SUBMIT</button>
    </form>
</form>
</fieldset>